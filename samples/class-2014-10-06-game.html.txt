<!DOCTYPE html>
<html>
   <head>
      <title>
         Alan's Game
      </title>
      <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
      <script type="text/javascript">
         //
         // Global Variables
         //         
         var currentLoc = 0;
         
         //
         // Initialization
         //
         function init() {
            look();
         }
         
         //
         // Directional Button Event Handlers
         //
         function btnNorth_click() {
            if (currentLoc === 0) {
               currentLoc = 1;
            } else {
              if (currentLoc === 3) {
                 currentLoc = 0;
              }
            }
            look();
         }

         function btnSouth_click() {
            if (currentLoc === 1) {
               currentLoc = 0;
            } else {
              if (currentLoc === 0) {
                 currentLoc = 3;
              }
            }
            look();
         }

         function btnEast_click() {
            if (currentLoc === 4) {
               currentLoc = 0;
            } else {
              if (currentLoc === 0) {
                 currentLoc = 2;
              }
            }
            look();
         }

         function btnWest_click() {
            if (currentLoc === 2) {
               currentLoc = 0;
            } else {
              if (currentLoc === 0) {
                 currentLoc = 4;
              }
            }
            look();
         }
                  
         //
         // Story / Locale Functions
         //
         function lookWithIfElseAsOpposedToSwitchCase() {
            var desc = "";
            if (currentLoc === 0) {
               desc = "0. You are in Sheldon's and Leonard's apartment.";
            } else if (currentLoc === 1) {
               desc = "1. You are standing by the stairs";
            } else if (currentLoc === 2) {
               desc = "2. Welcome to the Cheesecake Factory. Please wait to be seated.";
            } else if (currentLoc === 3) {
               desc = "3. Say hi to Stuart at his (not burned) Comic book store.";
            } else if (currentLoc === 4) {
               desc = "4. (knock, knock knock) Penny!"
            } else {
               // TODO This is broken because it is unreachable. Fix it in the Switch/Case version.
               desc = "You cannot go that way";
            }
            displayMessage(desc);
         }
                  
         function look() {
            var desc = "";
            switch(currentLoc) {
               case 0: desc = "0. You are in Sheldon's and Leonard's apartment.";
                       break;
               case 1: desc = "1. You are standing by the stairs";
                       break; 
               case 2: desc = "2. Welcome to the Cheesecake Factory. Please wait to be seated.";
                       break;
               case 3: desc = "3. Say hi to Stuart at his (not burned) Comic book store.";
                       break;
               case 4: desc = "4. (knock, knock knock) Penny!";
                       break;
               default: desc = "You cannot go that way";
            }
            displayMessage(desc);
         }

         //
         // Utility Function(s)
         //
         function displayMessage(msg) {
            var target = document.getElementById("taMain");
            target.value = msg + "\n\n" + target.value;
         }
      </script>
   </head>
   <body onload="init();">
       <textarea id="taMain" rows="8" cols="32"></textarea>
       
       <br>
       Command:       
       <input type="text" 
              id = "txtCommand"
              name="txtCommand">

       <input type="button"
              value="Go" 
              onclick="btnGo_click();" />                           
       
       <br>
       <input type="button" 
              value="North"
              onclick="btnNorth_click();">
       <input type="button" 
              value="South"
              onclick="btnSouth_click();">
       <input type="button" 
              value="East"
              onclick="btnEast_click();">
       <input type="button" 
              value="West"
              onclick="btnWest_click();">
              
   </body>
</html>